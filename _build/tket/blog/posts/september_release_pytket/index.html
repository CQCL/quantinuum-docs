<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>September Release Notes (pytket) - TKET Developer Blog</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=edea75bb" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style>
<link rel="stylesheet" href="../../_static/tokens.css"/>
<link rel="stylesheet" href="../../_static/styles.css"/>
<link rel="stylesheet" href="../../_static/tailwind.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="preload"
as="style">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

<style>  
  .sidebar-sticky {
    top: calc(3.5rem - 0px);
    height: calc(100vh - 3.5rem);
  }
  
  @media (min-width: 97em) {
    html {
      font-size: 100% !important;
    }
  }
  
</style>
</head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>
<!-- <script type="text/javascript" src="../../_static/syncTheme.global.js" ></script> -->
 <!--Force light mode -->
 <script>document.body.setAttribute('data-theme','light')</script>
<nav style="position:fixed;top:0;z-index:1021;width:100%;">
    <div class="nexus-nav"></div>
</nav>
<script type="text/javascript" src="../../_static/injectNav.global.js"></script>
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">TKET Developer Blog</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="september-release-notes-pytket">
<h1>September Release Notes (pytket)<a class="headerlink" href="#september-release-notes-pytket" title="Link to this heading">¶</a></h1>
<p>The September release brings typing improvements, custom control states in <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code>, equality checking for pytket boxes and more.</p>
<section id="pytket-1-19-0">
<h2>pytket 1.19.0<a class="headerlink" href="#pytket-1-19-0" title="Link to this heading">¶</a></h2>
<section id="new-features-changelog">
<h3>New Features (<a class="reference external" href="https://docs.quantinuum.com/tket/api-docs/changelog.html">Changelog</a>)<a class="headerlink" href="#new-features-changelog" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#typing-improvements-for-compiled-pytket-modules"><span class="xref myst">Typing for compiled modules</span></a></p></li>
<li><p><a class="reference internal" href="#custom-control-states-in-qcontrolbox"><span class="xref myst">Custom control states in <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#new-conjugationbox-construction"><span class="xref myst">New <code class="docutils literal notranslate"><span class="pre">ConjugationBox</span></code> construction</span></a></p></li>
<li><p><a class="reference internal" href="#equality-checking-for-all-box-types"><span class="xref myst">Equality checking implemented for all boxes</span></a>.</p></li>
<li><p><a class="reference internal" href="#every-pytket-op-now-has-an-is-clifford-method"><span class="xref myst">Every pytket <code class="docutils literal notranslate"><span class="pre">Op</span></code> now has an <code class="docutils literal notranslate"><span class="pre">is_clifford</span></code> method</span></a></p></li>
<li><p><a class="reference internal" href="#qubitpaulitensor-class"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">QubitPauliTensor</span></code> class is now available in <code class="docutils literal notranslate"><span class="pre">pytket.pauli</span></code></span></a></p></li>
</ul>
</section>
<section id="fixes-1-19-0">
<h3>Fixes (1.19.0)<a class="headerlink" href="#fixes-1-19-0" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>It is now possible to create an empty <code class="docutils literal notranslate"><span class="pre">BackendResult</span></code> object.</p></li>
<li><p>Performance fix for symbolic angle squashing.</p></li>
</ul>
</section>
<section id="update-fixes-1-19-1">
<h3>Update - Fixes (1.19.1)<a class="headerlink" href="#update-fixes-1-19-1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix for a regression in <code class="docutils literal notranslate"><span class="pre">RebaseCustom</span></code>. The <code class="docutils literal notranslate"><span class="pre">RebaseCustom</span></code> pass would fail to convert circuits containing TK2 gates due to a change released in a previous version. This is now fixed in 1.19.1.</p></li>
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">Circuit.symbol_substitution</span></code> for circuits containing box types that don’t support symbol substitution. Boxes which don’t support symbol substitution include the <a class="reference external" href="https://docs.quantinuum.com/tket/user-guide/manual/manual_circuit.html#boxes-for-unitary-synthesis">unitary synthesis boxes</a> and <a class="reference external" href="https://docs.quantinuum.com/tket/user-guide/manual/manual_assertion.html">assertion boxes</a>.</p></li>
</ul>
</section>
<section id="typing-improvements-for-compiled-pytket-modules">
<h3>Typing improvements for compiled pytket modules<a class="headerlink" href="#typing-improvements-for-compiled-pytket-modules" title="Link to this heading">¶</a></h3>
<p>In previous versions of pytket, type information was not available for any of the compiled modules, which represent a large part of the library.</p>
<p>For this reason, when using type checkers such as mypy or pyright, it was necessary to use <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> statements like the following.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">CircBox</span> <span class="c1"># type: ignore</span>

<span class="n">my_circbox</span> <span class="o">=</span> <span class="n">CircBox</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>This also meant that certain type hints and auto complete feature were not available to developers when using compiled modules such as <code class="docutils literal notranslate"><span class="pre">pytket.circuit</span></code> and <code class="docutils literal notranslate"><span class="pre">pytket.passes</span></code>.</p>
<p>pytket now includes type information for all compiled modules via automatically generated type stub files. <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> statements are no longer needed. This means that developers can use type checkers more freely and take advantage of type hints and autocomplete when working with pytket.</p>
<p>Note that using <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> does not suppress type information if it is available. This means that type checking runs that were previously passing may now fail if the usage of objects from compiled modules is deemed improper by the type checker.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to use some of the <a class="reference external" href="https://docs.quantinuum.com/tket/api-docs/extensions.html">pytket extension modules</a> with pytket 1.19.0 or newer, you will need to use a version of the extension package that was released in September 2023 or later. This is due to the typing changes in the pytket 1.19.0 release.</p>
</div>
</section>
<section id="custom-control-states-in-qcontrolbox">
<h3>Custom control states in <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code><a class="headerlink" href="#custom-control-states-in-qcontrolbox" title="Link to this heading">¶</a></h3>
<p>In pytket <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code> provides an interface for users to define controlled unitary operations.</p>
<p>Given a pytket <code class="docutils literal notranslate"><span class="pre">Op</span></code> we can define a <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code> as follows</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpType</span><span class="p">,</span> <span class="n">Op</span><span class="p">,</span> <span class="n">QControlBox</span>

<span class="n">s_gate_op</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">OpType</span><span class="o">.</span><span class="n">S</span><span class="p">)</span>
<span class="n">cccs</span> <span class="o">=</span> <span class="n">QControlBox</span><span class="p">(</span><span class="n">s_gate_op</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># define a CCCS gate</span>
</pre></div>
</div>
<p>Here we have defined <span class="math notranslate nohighlight">\(S\)</span> gate controlled on 3 qubits. This means that an S will be applied when all 3 control qubits are in the <span class="math notranslate nohighlight">\(|1\rangle\)</span> state.</p>
<p>However prior to the 1.19 release a <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code> could only be defined using the “all <span class="math notranslate nohighlight">\(|1\rangle\)</span>” control state.</p>
<p>This has now changed and <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">control_state</span></code> argument. If no <code class="docutils literal notranslate"><span class="pre">control_state</span></code> argument is provided then the default “all <span class="math notranslate nohighlight">\(|1\rangle\)</span>” state is used. Lets define a controlled-<span class="math notranslate nohighlight">\(S\)</span> gate with a control state of <span class="math notranslate nohighlight">\(|010\rangle\)</span>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpType</span><span class="p">,</span> <span class="n">Op</span><span class="p">,</span> <span class="n">QControlBox</span>

<span class="n">s_gate_op</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">OpType</span><span class="o">.</span><span class="n">S</span><span class="p">)</span>
<span class="n">custom_cccs</span> <span class="o">=</span> <span class="n">QControlBox</span><span class="p">(</span><span class="n">s_gate_op</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">control_state</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> 
<span class="c1"># Equivalent to the above (using an integer control_state)</span>
<span class="c1"># custom_cccs = QControlBox(op, 3, control_state=2)</span>
</pre></div>
</div>
<p>Now the <span class="math notranslate nohighlight">\(S\)</span> gate will be applied to the target when the three control qubits are in the <span class="math notranslate nohighlight">\(|010\rangle\)</span> state.</p>
<p>These sorts of gates appear frequently in quantum algorithms. Here is a simple example of an LCU (Linear combination of unitaries) circuit.</p>
<p><img alt="" src="../../_images/lcu_diagram.png" /></p>
<p>This circuit can be used to calculate the expectation value of the sum of <span class="math notranslate nohighlight">\(U_a\)</span> and <span class="math notranslate nohighlight">\(U_b\)</span>. Here the empty circle in the second control gates denotes a “0-controlled” gate.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\begin{equation}
 \langle U_a + U_b \rangle =  \langle  \psi| U_{a} + U_{b} | \psi \rangle
\end{equation}
\]</div>
</div>
<p>Suppose we create a <code class="docutils literal notranslate"><span class="pre">CircBox</span></code> for the <span class="math notranslate nohighlight">\(U_a\)</span> operation. We can then construct a <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code> for the 0-controlled <span class="math notranslate nohighlight">\(U_a\)</span> as follows</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">CircBox</span><span class="p">,</span> <span class="n">QControlBox</span>

<span class="n">ub_box</span> <span class="o">=</span> <span class="n">CircBox</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> 

<span class="n">zero_controlled_ub</span> <span class="o">=</span> <span class="n">QControlBox</span><span class="p">(</span><span class="n">ub_box</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">control_state</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="every-pytket-op-now-has-an-is-clifford-method">
<h3>Every pytket <code class="docutils literal notranslate"><span class="pre">Op</span></code> now has an <code class="docutils literal notranslate"><span class="pre">is_clifford</span></code> method<a class="headerlink" href="#every-pytket-op-now-has-an-is-clifford-method" title="Link to this heading">¶</a></h3>
<p>Clifford circuits are an important class of quantum circuits known to exhibit efficient classical simulation.</p>
<p>A Clifford gate is an element of the Clifford group which can be generated by the <span class="math notranslate nohighlight">\(\{H, S, CX\}\)</span> operations. Such operations map Pauli operations <span class="math notranslate nohighlight">\(P\)</span> to other Pauli operations <span class="math notranslate nohighlight">\(P'\)</span>  when conjugated as follows</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\begin{equation}
P' = C \, P \, C^\dagger \, .
\end{equation}
\]</div>
</div>
<p>For instance a Pauli <span class="math notranslate nohighlight">\(X\)</span> can be transformed to a Pauli <span class="math notranslate nohighlight">\(Z\)</span> by conjugating with a Hadamard Gate.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\begin{equation}
X = H \, Z \, H^\dagger = H \, Z \, H \, .
\end{equation}
\]</div>
</div>
<p>Given a pytket <code class="docutils literal notranslate"><span class="pre">Op</span></code> we could check whether it was a Clifford type operation with the <code class="docutils literal notranslate"><span class="pre">Op.is_clifford_type</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Op</span><span class="p">,</span> <span class="n">OpType</span>

<span class="n">s_gate_op</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">OpType</span><span class="o">.</span><span class="n">S</span><span class="p">)</span>
<span class="n">s_gate_op</span><span class="o">.</span><span class="n">is_clifford_type</span><span class="p">()</span>
</pre></div>
</div>
<p>This returns <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <span class="math notranslate nohighlight">\(S\)</span> gate is a well known Clifford gate.</p>
<p>However <code class="docutils literal notranslate"><span class="pre">Op.is_clifford_type</span></code> is limited as it only checks whether the underlying <code class="docutils literal notranslate"><span class="pre">OpType</span></code> is Clifford. This check would not be able to handle the case of parameterised gates that have Clifford angles.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rz_clifford_op</span> <span class="o">=</span> <span class="n">Op</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">OpType</span><span class="o">.</span><span class="n">Rz</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">rz_clifford_op</span><span class="o">.</span><span class="n">is_clifford_type</span><span class="p">()</span>
</pre></div>
</div>
<p>Here we have defined the Rz op with the <span class="math notranslate nohighlight">\(1\)</span> rotation parameter (equivalent to 1 half turn).
The <code class="docutils literal notranslate"><span class="pre">is_clifford_type</span></code> method will return <code class="docutils literal notranslate"><span class="pre">False</span></code> here as the Rz gate is not in general a Clifford gate.</p>
<p>However in pytket 1.19 we can now use the more general <code class="docutils literal notranslate"><span class="pre">Op.is_clifford()</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rz_clifford_op</span><span class="o">.</span><span class="n">is_clifford</span><span class="p">()</span>
</pre></div>
</div>
<p>This method will now correctly identify the Rz gate as a Clifford by checking whether the parameter is a Clifford angle.</p>
</section>
<section id="qubitpaulitensor-class">
<h3><code class="docutils literal notranslate"><span class="pre">QubitPauliTensor</span></code> class<a class="headerlink" href="#qubitpaulitensor-class" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">QubitPauliTensor</span></code> class is now exposed to pytket. A <code class="docutils literal notranslate"><span class="pre">QubitPauliTensor</span></code> is defined using a <code class="docutils literal notranslate"><span class="pre">QubitPauliString</span></code> paired with a complex coefficient.</p>
<p>This allows phase to be tracked when using the <code class="docutils literal notranslate"><span class="pre">UnitaryTableau</span></code>.</p>
</section>
<section id="equality-checking-for-all-box-types">
<h3>Equality checking for all box types<a class="headerlink" href="#equality-checking-for-all-box-types" title="Link to this heading">¶</a></h3>
<p>A pytket box represents a higher level subroutine that can be added to a quantum circuit. For more on the different types of box available in pytket, read the <a class="reference internal" href="#../user-guide/manual/manual_circuit.html#boxes"><span class="xref myst">user manual section</span></a>.</p>
<p>After the pytket 1.19 release, every box type now allows for equivalence checking.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pytket.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Circuit</span><span class="p">,</span> <span class="n">CircBox</span>

<span class="n">ghz_circ</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;GHZ&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">H</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">CX</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">CX</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Construct two equivalent CircBox objects</span>
<span class="n">box1</span> <span class="o">=</span> <span class="n">CircBox</span><span class="p">(</span><span class="n">ghz_circ</span><span class="p">)</span>
<span class="n">box2</span> <span class="o">=</span> <span class="n">CircBox</span><span class="p">(</span><span class="n">ghz_circ</span><span class="p">)</span>

<span class="n">box1</span> <span class="o">==</span> <span class="n">box2</span>
</pre></div>
</div>
<p>This equality check will now return <code class="docutils literal notranslate"><span class="pre">True</span></code> in pytket 1.19. In older versions of pytket, the equality check would return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Being able to test for equivalence is useful for testing purposes. We can validate the <code class="docutils literal notranslate"><span class="pre">CircBox</span></code> without decomposing it or having to defer to the underlying circuit with the <code class="docutils literal notranslate"><span class="pre">CircBox.get_circuit()</span></code> method.</p>
</section>
<section id="new-conjugationbox-construction">
<h3>New <code class="docutils literal notranslate"><span class="pre">ConjugationBox</span></code> construction<a class="headerlink" href="#new-conjugationbox-construction" title="Link to this heading">¶</a></h3>
<p>Another enhancement related to controlled gates is the new <code class="docutils literal notranslate"><span class="pre">ConjugationBox</span></code> feature. This allows us to find efficient decompositions for controlled gates when our base gate <span class="math notranslate nohighlight">\(U_{\text{conj}}\)</span> is of the form</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\begin{equation}
U_\text{conj} = C \, A \, C^\dagger
\end{equation}
\]</div>
</div>
<p>Where <span class="math notranslate nohighlight">\(U_{\text{conj}},\, A\)</span> and <span class="math notranslate nohighlight">\(C\)</span> are unitary operations.</p>
<p>This compute (<span class="math notranslate nohighlight">\(C\)</span>), action (<span class="math notranslate nohighlight">\(A\)</span>), uncompute (<span class="math notranslate nohighlight">\(C^\dagger\)</span>) pattern occurs frequently in various applications of quantum computing. It can be shown that to construct a controlled <span class="math notranslate nohighlight">\(U_{\text{conj}}\)</span> operation it is only necessary to control on the central <span class="math notranslate nohighlight">\(A\)</span> operation.</p>
<p>Enhancements to this feature will be added in a subsequent release to handle <code class="docutils literal notranslate"><span class="pre">ConjugationBox</span></code> objects inside <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code>, enabling more efficient compilation.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              Copyright &#169; 2024 Quantinuum Ltd. All rights reserved.
            </div>
            <div class="terms" style="display:flex; gap:0.5rem; align-items:center; margin: 0.25rem 0rem;">
              <a href="https://www.quantinuum.com/privacy-statement" target="_blank">Privacy Statement</a>
              <div role="separator">/</div>
              <a href="https://www.quantinuum.com/cookie-notice" target="_blank">Cookie Notice</a>
              <div role="separator">/</div>
              <a href="https://www.quantinuum.com/terms-conditions" target="_blank">Terms and Conditions</a>
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">September Release Notes (pytket)</a><ul>
<li><a class="reference internal" href="#pytket-1-19-0">pytket 1.19.0</a><ul>
<li><a class="reference internal" href="#new-features-changelog">New Features (Changelog)</a></li>
<li><a class="reference internal" href="#fixes-1-19-0">Fixes (1.19.0)</a></li>
<li><a class="reference internal" href="#update-fixes-1-19-1">Update - Fixes (1.19.1)</a></li>
<li><a class="reference internal" href="#typing-improvements-for-compiled-pytket-modules">Typing improvements for compiled pytket modules</a></li>
<li><a class="reference internal" href="#custom-control-states-in-qcontrolbox">Custom control states in <code class="docutils literal notranslate"><span class="pre">QControlBox</span></code></a></li>
<li><a class="reference internal" href="#every-pytket-op-now-has-an-is-clifford-method">Every pytket <code class="docutils literal notranslate"><span class="pre">Op</span></code> now has an <code class="docutils literal notranslate"><span class="pre">is_clifford</span></code> method</a></li>
<li><a class="reference internal" href="#qubitpaulitensor-class"><code class="docutils literal notranslate"><span class="pre">QubitPauliTensor</span></code> class</a></li>
<li><a class="reference internal" href="#equality-checking-for-all-box-types">Equality checking for all box types</a></li>
<li><a class="reference internal" href="#new-conjugationbox-construction">New <code class="docutils literal notranslate"><span class="pre">ConjugationBox</span></code> construction</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=187304be"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>